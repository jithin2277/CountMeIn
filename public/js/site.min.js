"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};!function(){function n(i){"undefined"!=typeof console&&console.error("[g-signin-button] "+i)}function i(i){i.component("g-signin-button",{data:function(){return{containerclassName:"g-signin-button-container loading"}},render:function(i){return i("div",{attrs:{class:this.containerclassName}},[i("div",{attrs:{class:"lds-ring"}},[i("div",{},""),i("div",{},""),i("div",{},""),i("div",{},"")]),i("div",{attrs:{class:"g-signin-button"},ref:"signinBtn"},"Sign In using Google")])},props:{params:{type:Object,required:!0,default:function(){return{}}}},mounted:function(){var e=this;return window.gapi?this.params.client_id?void window.gapi.load("auth2",function(){var i=window.gapi.auth2.init(e.params);i.attachClickHandler(e.$refs.signinBtn,{},function(i){e.$emit("success",i)},function(i){e.$emit("error",i),e.$emit("failure",i)}),i.currentUser.listen(function(i){i.getBasicProfile()?e.$emit("success",i):e.containerclassName="g-signin-button-container"}),1==i.isSignedIn.get()&&i.signIn()}):void n("params.client_id must be specified."):void n('"https://apis.google.com/js/api:client.js" needs to be included as a <script>.')}})}"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=i:"function"==typeof define&&define.amd?define([],function(){return i}):window.Vue&&window.Vue.use(i)}(),function(o){o(function(){var n=io(),s=new Vue({el:"#app",data:{isOn:!1,isDisabled:!1,isRegistered:!1,timer:"--",isTimerStarted:!1,player:{},playerList:[],progress:"progress-0",isBookingFull:!1,playerAdded:!1,playerLoading:!1,googleSignInParams:{client_id:o("meta[name=googleClientId]").attr("content")}},created:function(){n.emit("getRecent",!0),n.on("playerList",function(i){s.playerLoading=!1,s.playerList=[],s.isDisabled=!i.isVotingsEnabled;for(var e=0;e<i.players.length;e++)s.playerList.push(i.players[e]);if(0<s.playerList.length){var n=[];o.map(s.playerList,function(i,e){n.push(i.Email)}),0<=o.inArray(s.player.Email,n)&&(s.playerAdded=!0,s.isOn=!0)}else s.isOn=!1,s.playerAdded=!1;var t=Math.round(s.playerList.length/20*100);s.progress="progress-"+t,100===t&&(s.isBookingFull=!0)}),n.on("bookingsfull",function(i){s.isBookingFull=!0,s.progress="progress-100"}),n.on("stop",function(i){s.playerList=[],s.isDisabled=!0,s.isTimerStarted=!1}),n.on("start",function(i){s.playerList=[],s.isDisabled=!1,s.isTimerStarted=!1,s.isOn=!1}),n.on("startTimer",function(i){s.isTimerStarted=!0,s.timer=i})},methods:{countMeIn:function(){this.isDisabled||this.isOn||this.isBookingFull||(this.playerLoading=!0,this.playerAdded=!1,n.emit("iAmIn",this.player,function(i){i&&(this.playerAdded=!0,this.playerLoading=!1,this.isOn=!0)}))},onSignInSuccess:function(i){var e=i.getBasicProfile();e&&(this.isRegistered=!0,this.player.Id=e.getId(),this.player.Name=e.getName(),this.player.Email=e.getEmail(),this.playerLoading=!1,n.emit("getRecent",!0))},onSignInError:function(i){console.log("OH NOS",i)}}})})}(jQuery);